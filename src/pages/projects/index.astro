---
import { getCollection } from "astro:content";
import Layout from "../../components/Layout.astro";
import ProjectCard from "../../components/ProjectCard.astro";

const projects = await getCollection("projects");
//const projects = Object.values(import.meta.glob("../../content/projects/*.md", {eager: true}));
---
<Layout title="Projects">
     <section class="project-list">
          <h1 class="text-3xl font-bold mb-8">Projects</h1>
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
               {projects.map((project: any) => (
                    <ProjectCard
                         title={project.data.title}
                         desc={project.data.desc}
                         image={project.data.image}
                         tags={project.data.tags}
                         slug={project.slug}/>
               ))} 
          </div>
     </section>
</Layout>